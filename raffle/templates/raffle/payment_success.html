{% extends "base.html" %}
{% load static %}

{% block title %}Pago confirmado{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto text-center mt-10 mb-10 bg-white rounded-2xl shadow p-6">
  {% if is_donation %}
    <h1 class="text-2xl font-bold mb-3">ğŸ’š Â¡Gracias por tu donaciÃ³n para Milo!</h1>
    <p class="text-gray-700 mb-4">
      Tu aporte ayudarÃ¡ directamente a que Milo pueda operarse y dejar de sentir dolor en sus patitas.
      De verdad, Â¡muchas gracias por tu apoyo! ğŸ¶
    </p>
  {% elif is_transfer %}
    <h1 class="text-2xl font-bold mb-3">Â¡Reserva realizada!</h1>
    <p class="text-gray-700 mb-4">
      Tus nÃºmeros han sido reservados por <span class="font-semibold">12 horas</span> para que puedas
      hacer la transferencia con calma.
      Recuerda enviar el comprobante al correo indicado mÃ¡s abajo, mencionando tu nombre
      y los nÃºmeros reservados ğŸ¶ğŸ’š
    </p>

    <div class="mt-8">
      <!-- BLOQUE TRANSFERENCIA -->
      <div class="rounded-lg border bg-white p-4 shadow-sm transfer-data-block">
        <div class="text-left">
          <p class="text-sm font-semibold mb-2">Datos para transferencia</p>

          <dl class="text-sm space-y-1">
            <div class="flex justify-between">
              <dt class="text-gray-500">Banco</dt>
              <dd class="font-medium">Mercado Pago</dd>
            </div>
            <div class="flex justify-between">
              <dt class="text-gray-500">Tipo de cuenta</dt>
              <dd class="font-medium">Cuenta Vista</dd>
            </div>
            <div class="flex justify-between">
              <dt class="text-gray-500">NÂ° de cuenta</dt>
              <dd class="font-medium">1052076645</dd>
            </div>
            <div class="flex justify-between">
              <dt class="text-gray-500">RUT</dt>
              <dd class="font-medium">20.096.901-4</dd>
            </div>
            <div class="flex justify-between">
              <dt class="text-gray-500">Nombre</dt>
              <dd class="font-medium">Marcelo AndrÃ©s Pizarro Tapia</dd>
            </div>
            <div class="flex justify-between">
              <dt class="text-gray-500">Correo</dt>
              <dd class="font-medium">marcelo.pizarrotapia@gmail.com</dd>
            </div>
          </dl>
        </div>

        <button
          type="button"
          class="mt-4 px-3 py-2 text-xs rounded-md border bg-gray-50 hover:bg-gray-100"
          data-transfer-name="Marcelo AndrÃ©s Pizarro Tapia"
          data-transfer-rut="20096901-4"
          data-transfer-bank="Mercado Pago"
          data-transfer-account-type="Cuenta Vista"
          data-transfer-account-number="1052076645"
          data-transfer-email="marcelo.pizarrotapia@gmail.com"
        >
          Copiar datos
        </button>

        <p class="js-copy-feedback mt-2 text-xs text-green-600 hidden">
          Datos copiados âœ….
        </p>
      </div>
    </div>
  {% endif %}

  <!-- GIF de Milo -->
  <div class="mt-4 mb-6 flex justify-center">
    <img
      src="{% static 'img/milo_feliz.gif' %}"
      alt="Milo feliz"
      class="max-w-xs rounded-xl shadow"
    >
  </div>

  <!-- BotÃ³n para volver al inicio -->
  <a href="{% url 'raffle_detail' %}"
     class="inline-block px-4 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white font-semibold">
    Volver al inicio
  </a>

  {% if is_donation %}
    <div class="mt-3">
      <a href="{% url 'donation_page' %}" class="text-sm text-indigo-600 hover:text-indigo-800 underline">
        Hacer otra donaciÃ³n
      </a>
    </div>
  {% endif %}
</div>
{% endblock %}